"use strict";var cookiejson=$.cookie("xq"),num=Number(cookiejson.replace(/[^0-9]+/gi,""));function ComSp(){}Object.assign(ComSp.prototype,{init:function(i,n){var a=this;$.ajax("./pike/index.json",{}).then(function(n){a.render(n,i),a.bindEvent()})},render:function(n,i){list=n.json;var a=list[num],s="";s+='<div class="fangdajing">\n        <div class="container-magnifier">\n                <div class="wrap-small-magnifier">\n                    <img src='.concat(a.img_mid.one,' alt="" id="img-mid-a">\n                    <div class="focus"></div>\n                    <div class="patch">\n                        \n                    </div>\n                </div>\n                <div class="wrap-choice-magnifier">\n                    <i class="active"\n                        data-big=').concat(a.img_big.one,"\n                        data-small=").concat(a.img_mid.one,"\n                    ><img src=").concat(a.img_small.one,' alt="" id="img-choice"></i>\n                    <i\n                        data-big=').concat(a.img_big.two,"\n                        data-small=").concat(a.img_mid.two,"\n                    ><img src=").concat(a.img_small.two,' alt="" id="img-choice"></i>\n                    <i\n                        data-big=').concat(a.img_big.thr,"\n                        data-small=").concat(a.img_mid.thr,"\n                    ><img src=").concat(a.img_small.thr,' alt="" id="img-choice"></i>\n                    <i\n                        data-big=').concat(a.img_big.fou,"\n                        data-small=").concat(a.img_mid.fou,"\n                    ><img src=").concat(a.img_small.fou,' alt="" id="img-choice"></i>\n                    <i\n                        data-big=').concat(a.img_big.fiv,"\n                        data-small=").concat(a.img_mid.fiv,"\n                    ><img src=").concat(a.img_small.fiv,' alt="" id="img-choice"></i>\n                    <i\n                        data-big=').concat(a.img_big.six,"\n                        data-small=").concat(a.img_mid.six,"\n                    ><img src=").concat(a.img_small.six,' alt="" id="img-choice"></i>\n                </div>\n                <div class="wrap-big-magnifier">\n                    <img src=').concat(a.img_big.one,' alt="" id="img-big-a">\n                </div>\n            </div>\n            \n            <div class="details-wrap">\n                <h1 id="title-big">\n                     <span>').concat(a.title,'</span> \n                </h1>\n                <div class="details-title">\n                    实战篮球鞋，透气舒适，时尚有型\n                </div>\n                <div class="daojishi">\n                    <p>\n                        <span></span>【春节不打烊】金猪贺岁-限时购\n                    </p>\n                    <h2>\n                            距结束：\n                            <span id="day_ele">0</span> \n                            天\n                            <span id="hour_ele">0</span> \n                            时\n                            <span id="minute_ele">0</span>\n                            分\n                            <span id="second_ele">0</span>\n                            秒\n                      </h2>\n                </div>\n                <ul class="price-wrap">\n                    <li class="qianggoujia">\n                        抢&nbsp;购&nbsp;价<span>￥').concat(a.rmb,'</span>\n                    </li>\n                    <li class="diaopaijia">\n                        吊&nbsp;牌&nbsp;价<del>￥').concat(a.diaopai,'</del>\n                    </li>\n                    <li class="lingjuan">\n                        <span>领&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;劵</span>\n                        <span>满89减10</span>\n                        <span>满89减10</span>\n                        <span>满299减10</span>\n                        <span>满399减10</span>\n                    </li>\n                    <li class="huodong">\n                        <span>活&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;动</span>\n                        <span>积分抵现</span>\n                        <span>满包邮</span>\n                        <span>限时抢购</span>\n                    </li>\n                    <li class="zhankai"><a href="#">展开活动></a></li>\n                </ul>\n                <ul class="color-xiezi">\n                    <li>选择颜色</li>\n                    <li><img src=').concat(a.img_small.one,' alt=""></li>\n                    <li><img src=').concat(a.img_small.two,' alt=""></li>\n                    <li><img src=').concat(a.img_small.thr,' alt=""></li>\n                    <li><img src=').concat(a.img_small.fou,' alt=""></li>\n                </ul>\n                <ul class="shoe-size">\n                    <li>选择尺码</li>\n                    <li>38</li>\n                    <li>39</li>\n                    <li>40</li>\n                    <li>41</li>\n                    <li>42</li>\n                    <li>43</li>\n                    <li>44</li>\n                    <li>45</li>\n                </ul>\n                <ul class="shoe-number">\n                    <li>购买数量</li>\n                    <li>-</li>\n                    <li><input type="text" value=""></li>\n                    <li>+</li>\n                    <li>（库存：99+） <span>黑色/银色</span></li>\n                </ul>\n                <div class="btn-goumai">\n                    <span><span></span>立即购买</span>\n                    <span><span>❤ </span>喜欢</span>\n                </div>\n                <ul class="fenxiang-fou"> \n                    <li><a href=""></a></li>\n                    <li><a href=""></a></li>\n                    <li><a href=""></a></li>\n                    <li><a href=""></a></li>\n                    <li><a href=""></a></li>\n                </ul>\n            </div>\n        </div>'),i.html(s)},bindEvent:function(){$(".patch").mousemove(function(n){$(".wrap-big-magnifier").show(),$(".focus").show();var i=n.offsetX-parseInt($(".focus").width())/2,a=n.offsetY-parseInt($(".focus").height())/2;i=(i=i<0?0:i)>parseInt($(".patch").outerWidth())-parseInt($(".focus").outerWidth())?parseInt($(".patch").outerWidth())-parseInt($(".focus").outerWidth()):i,a=(a=a<0?0:a)>parseInt($(".patch").outerHeight())-parseInt($(".focus").outerHeight())?parseInt($(".patch").outerHeight())-parseInt($(".focus").outerHeight()):a,$(".focus").css("left",i+"px"),$(".focus").css("top",a+"px");var s=i/parseInt($(".patch").outerWidth())*parseInt($(".wrap-big-magnifier img").outerWidth());$(".wrap-big-magnifier img").css("margin-left",-s+"px");var t=a/parseInt($(".patch").outerHeight())*parseInt($(".wrap-big-magnifier img").outerHeight());$(".wrap-big-magnifier img").css("margin-top",-t+"px")}),$(".patch").mouseleave(function(){$(".wrap-big-magnifier").hide(),$(".focus").hide()});var n=$(".wrap-choice-magnifier").children(),l=$(".wrap-big-magnifier").children(),e=$(".wrap-small-magnifier").children(0);$.each(n,function(n,i,a){console.log(n,i,a);var s=$(i).data("small"),t=$(i).data("big");$(i).on("click",function(){console.log(e.src),e.attr("src",s),l.attr("src",t),console.log(e,l)})})}});var comsp=new ComSp;function countDown(n){var i=new Date(n),a=Date.now(),s=i.getTime()-a,t=parseInt(s/1e3/3600/24),l=parseInt((s-1e3*t*3600*24)/1e3/3600),e=parseInt((s-1e3*l*3600-1e3*t*3600*24)/1e3/60);return{day:t,hour:l,minute:e,second:parseInt((s-1e3*t*3600*24-1e3*l*3600-1e3*e*60)/1e3),ms:parseInt(s%1e3)}}function myCountDown(){var n=countDown("2019/2/20");$("#day_ele").html(n.day),$("#hour_ele").html(n.hour),$("#minute_ele").html(n.minute),$("#second_ele").html(n.second)}comsp.init($(".fangdajing-wrap")),setInterval(myCountDown,50);